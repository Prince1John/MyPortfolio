<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Contact â€” Trial</title>
    <style>
        /* Minimal styles for messages */
        .loading, .error-message, .sent-message { display: none; margin-top: 0.5rem; }
        .loading { color: #555; }
        .error-message { color: #b00; }
        .sent-message { color: #080; }
        .visible { display: block; }
        button[disabled] { opacity: 0.6; cursor: not-allowed; }
        /* basic form layout */
        .row { display: flex; flex-wrap: wrap; gap: 1rem; }
        .col-md-6 { flex: 1 1 calc(50% - 0.5rem); min-width: 200px; }
        .col-md-12 { flex: 1 1 100%; }
        label { display:block; font-weight:600; margin-bottom:0.25rem; }
        .form-control { width:100%; padding:0.5rem; border:1px solid #ccc; border-radius:4px; }
    </style>
</head>
<body>

    <div class="col-lg-7">
        <form id="contact-form" action="https://formspree.io/f/xdkelavq" method="POST" class="php-email-form" data-aos="fade-up" data-aos-delay="200" novalidate>
            <div class="row gy-4">

                <div class="col-md-6">
                    <label for="name-field" class="pb-2">Your Name</label>
                    <input type="text" name="name" id="name-field" class="form-control" placeholder="Enter your name" required>
                </div>

                <div class="col-md-6">
                    <label for="email-field" class="pb-2">Your Email</label>
                    <input type="email" class="form-control" name="email" id="email-field" placeholder="Enter your email" required>
                </div>

                <div class="col-md-12">
                    <label for="subject-field" class="pb-2">Subject</label>
                    <input type="text" class="form-control" name="subject" id="subject-field" placeholder="Subject of your message" required>
                </div>

                <div class="col-md-12">
                    <label for="message-field" class="pb-2">Message</label>
                    <textarea class="form-control" name="message" rows="10" id="message-field" placeholder="Write your message here..." required></textarea>
                </div>

                <div class="col-md-12 text-center">
                    <div class="loading">Loading</div>
                    <div class="error-message"></div>
                    <div class="sent-message">Your message has been sent. Thank you!</div>
                    <button type="submit">Send Message</button>
                </div>

            </div>
        </form>
    </div>

    <script>
        // Handle form submission via Fetch so the current page stays (we'll optionally reload it)
        (function () {
            const form = document.getElementById('contact-form');
            const loadingEl = form.querySelector('.loading');
            const errorEl = form.querySelector('.error-message');
            const sentEl = form.querySelector('.sent-message');
            const submitBtn = form.querySelector('button[type="submit"]');

            function show(el) { el.classList.add('visible'); }
            function hide(el) { el.classList.remove('visible'); }

            form.addEventListener('submit', function (e) {
                e.preventDefault();
                hide(errorEl);
                hide(sentEl);
                show(loadingEl);
                submitBtn.disabled = true;

                const data = new FormData(form);
                // Send to Formspree (action URL)
                fetch(form.action, {
                    method: form.method,
                    body: data,
                    headers: { 'Accept': 'application/json' }
                })
                .then(response => {
                    hide(loadingEl);
                    submitBtn.disabled = false;
                    if (response.ok) {
                        show(sentEl);
                        // refresh the page after a short delay but stay on the same page (prevents back navigation)
                        setTimeout(() => location.reload(), 900);
                    } else {
                        return response.json().then(json => {
                            const msg = (json && json.error) ? json.error : 'Submission failed. Please try again.';
                            errorEl.textContent = msg;
                            show(errorEl);
                        }).catch(() => {
                            errorEl.textContent = 'Submission failed. Please try again.';
                            show(errorEl);
                        });
                    }
                })
                .catch(() => {
                    hide(loadingEl);
                    submitBtn.disabled = false;
                    errorEl.textContent = 'Network error. Please check your connection and try again.';
                    show(errorEl);
                });
            });
        })();
    </script>

</body>
</html>